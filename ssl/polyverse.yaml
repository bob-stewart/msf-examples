apps/example: |
  app = function() {
  
      var customerChainComponent = {
                    BaseImage: "polyverse-demos.jfrog.io/pvdemo-go", 
                    HealthCheckURLPath: "/",
                    LaunchGracePeriod: 5 * 60 * 1000000000,
                    BindingPort: 8080
                };
  
      var modProbeComponent = {
                  BaseImage:          "polyverse-tools.jfrog.io/modsecurity:7d99f4dfe9683e27f207a81d1de73be255dd967f",
                  HealthCheckURLPath: "/health" ,
                  LaunchGracePeriod:  60 * 1000000000,
                  Cmd: [
                    "/entrypoint.sh",
                    "-proxy-pass=http://next:8080",
                    "-SecRuleEngine=On"
                    ],
                  Env:                [],
                  BindingPort:        8080
              };
  
      var routeInfo = {
        RouteType: 4,
        ID:                 "default_route",
        Timeout:            365 * 24 * 60 * 60 * 1000000000,
        ContainerChain: {
          ConnectionDrainGracePeriod: 3 * 60 * 1000000000,
          PerInstanceTimeout: 300 * 1000000000,
          DesiredInstances:   2,
          IsStateless:        true,
          Chain: [
              modProbeComponent,
              customerChainComponent
            ]
        }
      };
  
  return {
    Name: function() {
      return "default_appdef";
    },
    IsRequestSupported: function(r,c) {
      return true;
    },
    Route: function(r,c) {
      return routeInfo;
    },
   /*
    ComponentPools: function(c) {
      return [{
        Count: 2,
        Timeout: 365 * 24 * 60 * 60 * 1000000000,
        ChainComponent: customerChainComponent
      }];
    },
  */
    ValidationInfo: function() {
      return {
        PositiveRequests: [],
        NegativeRequests: []
      };
    }
  };
  }();

/polyverse/config/vfi: |
  {
  "etcd": {
    "type": "dockerImage",
    "address": "quay.io/coreos/etcd:v3.1.5"
  },
  "nsq": {
    "type": "dockerImage",
    "address": "nsqio/nsq:v0.3.8"
  },
  "supervisor": {
    "type": "dockerImage",
    "address": "polyverse-runtime.jfrog.io/supervisor:6bd0d2801de86aa9fe1e4db9acf00f4d3a3384b5"
  },
  "router": {
    "type": "dockerImage",
    "address": "polyverse-runtime.jfrog.io/router:2733f46a6798cd385bb768eb29252144b02b1094-no-swizzle"
  },
  "containerManager": {
    "type": "dockerImage",
    "address": "polyverse-runtime.jfrog.io/container-manager:051746740ecc8f12158867887949cf8e8e345e3c-no-swizzle"
  }
  }

polyverse.config.components.etcd.cluster_size: "1"
polyverse.config.components.nsq.cluster_size: "1"
polyverse.config.components.container_manager.cluster_size: "1"
polyverse.config.components.router.cluster_size: "1"
polyverse.config.rotation_interval: "0"

polyverse.config.router.ssl_on: "true"
polyverse.config.router.ssl_cert_file_path: "/run/secrets/ssl.crt"
polyverse.config.router.ssl_private_key_file_path: "/run/secrets/ssl.key"
polyverse.config.router.ssl_hostname: "localhost"
polyverse.config.router.secure_port: "443"
polyverse.config.router.port: "80"

polyverse.config.components.router.exposed_secrets: |
  ["ssl.crt", "ssl.key"]

